<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>VCS 라이브러리 | RB Cloud Web SDK</title><meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/style-VJQwquv_.css" as="style"><link rel="stylesheet" href="/assets/style-VJQwquv_.css">
    <link rel="modulepreload" href="/assets/app-BClNg0is.js"><link rel="modulepreload" href="/assets/getting-started.html-CDmCJ6oE.js">
    <link rel="prefetch" href="/assets/index.html-BAuvwDj9.js" as="script"><link rel="prefetch" href="/assets/contributing.html-CIha6q0T.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-B3GeKLoX.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-BtkGxms7.js" as="script"><link rel="prefetch" href="/assets/404.html-CB1naY6z.js" as="script"><link rel="prefetch" href="/assets/rbcloud-block-container.html-DrijF62v.js" as="script"><link rel="prefetch" href="/assets/rbcloud-block.html-C5uZ-tzz.js" as="script"><link rel="prefetch" href="/assets/rbcloud-carousel-epg.html-DJI1YyIS.js" as="script"><link rel="prefetch" href="/assets/rbcloud-carousel-item.html-D9zgd7ex.js" as="script"><link rel="prefetch" href="/assets/rbcloud-carousel-product-image.html-D1Lg9Vqe.js" as="script"><link rel="prefetch" href="/assets/rbcloud-text-move-ani-group.html-omiFwwfI.js" as="script"><link rel="prefetch" href="/assets/rbcloud-synopsis.html-B0fe9T1e.js" as="script"><link rel="prefetch" href="/assets/App-BYo0RT9P.js" as="script"><link rel="prefetch" href="/assets/CarouselBlock-CfrqiISX.js" as="script"><link rel="prefetch" href="/assets/CarouselBlockContainer-BdtOwu9O.js" as="script"><link rel="prefetch" href="/assets/rbcloud-block-container-example-k2UCf6gb.js" as="script"><link rel="prefetch" href="/assets/rbcloud-block-example-CMosy3pa.js" as="script"><link rel="prefetch" href="/assets/CarouselEPG-gbbOpVap.js" as="script"><link rel="prefetch" href="/assets/CarouselProductImg-DwjG63Xc.js" as="script"><link rel="prefetch" href="/assets/Carouseltem-DlujbwBI.js" as="script"><link rel="prefetch" href="/assets/TextMoveAnimationGroup-BNNDIcoI.js" as="script"><link rel="prefetch" href="/assets/rbcloud-carousel-epg-example-WIAHnLoF.js" as="script"><link rel="prefetch" href="/assets/rbcloud-text-move-ani-group-example-BLkhdgjD.js" as="script"><link rel="prefetch" href="/assets/CustomPreview-CdfCNcC5.js" as="script"><link rel="prefetch" href="/assets/Synopsis-ijRvshQw.js" as="script"><link rel="prefetch" href="/assets/rbcloud-synopsis-example-C2cXL1bl.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="site-name" aria-hidden="true">RB Cloud Web SDK</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Introduction <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/guide/getting-started.html" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">VCS 라이브러리 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link route-link-active sidebar-item active" href="/libVCS/getting-started.html" aria-label="VCS 라이브러리"><!--[--><!--]--> VCS 라이브러리 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/#s-w-architecture" aria-label="S/W Architecture"><!--[--><!--]--> S/W Architecture <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#환경-설정-하기" aria-label="환경 설정 하기"><!--[--><!--]--> 환경 설정 하기 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/#라이브러리-설치" aria-label="라이브러리 설치"><!--[--><!--]--> 라이브러리 설치 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#라이브러리에서-제공되는-함수" aria-label="라이브러리에서 제공되는 함수"><!--[--><!--]--> 라이브러리에서 제공되는 함수 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/#cs-웹앱-접속-로직-개발" aria-label="CS 웹앱 접속 로직 개발"><!--[--><!--]--> CS 웹앱 접속 로직 개발 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/#동작-프로세스" aria-label="동작 프로세스"><!--[--><!--]--> 동작 프로세스 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#stb-정보-조회" aria-label="STB 정보 조회"><!--[--><!--]--> STB 정보 조회 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#메뉴이동-이벤트-개발" aria-label="메뉴이동 이벤트 개발"><!--[--><!--]--> 메뉴이동 이벤트 개발 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/#key-event-처리" aria-label="Key Event 처리"><!--[--><!--]--> Key Event 처리 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/#key-event-설정" aria-label="Key Event 설정"><!--[--><!--]--> Key Event 설정 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#key-code" aria-label="Key Code"><!--[--><!--]--> Key Code <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/#vod-재생-요청" aria-label="VOD 재생 요청"><!--[--><!--]--> VOD 재생 요청 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#app-실행-요청" aria-label="APP 실행 요청"><!--[--><!--]--> APP 실행 요청 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#channel-진입-요청" aria-label="Channel 진입 요청"><!--[--><!--]--> Channel 진입 요청 <!--[--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/#cookie-적용" aria-label="Cookie 적용"><!--[--><!--]--> Cookie 적용 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">UI 라이브러리 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/libUI/getting-started.html" aria-label="UI 라이브러리"><!--[--><!--]--> UI 라이브러리 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="vcs-라이브러리" tabindex="-1"><a class="header-anchor" href="#vcs-라이브러리"><span>VCS 라이브러리</span></a></h1><p>웹앱을 VCS 플랫폼에서 동작시키기 위해서는 JSON 형식으로 데이터를 주고받을 수 있어야 합니다. 하지만 일반적인 PC나 모바일 웹의 경우, 클라이언트와 JSON 데이터를 주고받지 않습니다. VCS 라이브러리를 사용하면 TV 환경에 최적화되지 않은 웹앱도 TV에서 기본 동작을 수행할 수 있습니다.</p><h2 id="s-w-architecture" tabindex="-1"><a class="header-anchor" href="#s-w-architecture"><span>S/W Architecture</span></a></h2><p><img src="/assets/sw_architecture-CPAfOrF9.png" alt="An-image"> 그림| SW 구조</p><ol><li>라이브러리 통하여 Channel tune, Start/Stop, Play vod, Play tv app, Move Menu, Purchase, Recover 를 구현할 수 있습니다.</li><li>UI 컴포넌트와는 EventBus를 통하여 데이터를 통신합니다.</li></ol><h2 id="환경-설정-하기" tabindex="-1"><a class="header-anchor" href="#환경-설정-하기"><span>환경 설정 하기</span></a></h2><h3 id="라이브러리-설치" tabindex="-1"><a class="header-anchor" href="#라이브러리-설치"><span>라이브러리 설치</span></a></h3><ul><li>NPM 패키지로 제공되며 npm install로 라이브러리를 다운로드 받을 수 있습니다.</li><li>&quot;vcs-sdk&quot;를 import 하여 사용 가능하며 cs를 접근자로 사용 할 수 있습니다.</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>npm install vcs-sdk
import cs from vcs-sdk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="라이브러리에서-제공되는-함수" tabindex="-1"><a class="header-anchor" href="#라이브러리에서-제공되는-함수"><span>라이브러리에서 제공되는 함수</span></a></h3><p>라이브러리에서는 다음과 같은 기능을 제공합니다:</p><ul><li>이벤트 관리: 이벤트 등록, 실행, 삭제</li><li>셋톱박스 정보 조회</li><li>재생 요청: VOD, 채널, 앱 실행</li><li>쿠키 관리: 필요 시 쿠키 추가 및 삭제</li></ul><p>표| 라이브러리 제공 함수</p><table><thead><tr><th>Function Name</th><th>Description</th></tr></thead><tbody><tr><td>cs.addEventListener</td><td>이벤트 등록 시 사용</td></tr><tr><td>cs.removeEventListener</td><td>이벤트 삭제 시 사용</td></tr><tr><td>cs.excuteEventListener</td><td>이벤트 실행 시 사용</td></tr><tr><td>cs.getStbInfo</td><td>셋탑 정보 조회 시 사용</td></tr><tr><td>cs.PlayVod</td><td>재생 요청 시 사용</td></tr><tr><td>cs.PlayChannel</td><td>채널 이동 요청 시 사용</td></tr><tr><td>cs.PlayApp</td><td>앱 실행 요청 시 사용</td></tr><tr><td>cs.setCookie</td><td>쿠키 세팅</td></tr><tr><td>cs.removeCookie</td><td>쿠키 삭제</td></tr></tbody></table><h2 id="cs-웹앱-접속-로직-개발" tabindex="-1"><a class="header-anchor" href="#cs-웹앱-접속-로직-개발"><span>CS 웹앱 접속 로직 개발</span></a></h2><h3 id="동작-프로세스" tabindex="-1"><a class="header-anchor" href="#동작-프로세스"><span>동작 프로세스</span></a></h3><p><img src="/assets/StartApp_001-B5GiWDqQ.png" alt="An-image"> 그림| 웹앱 접속 프로세스</p><ol><li>셋톱박스에서 웹앱 화면 노출이 필요한 경우, StartApp 규격을 통해 웹앱으로 셋톱 정보와 이동할 메뉴 경로를 전달합니다.</li><li>CS 라이브러리는 전달받은 메뉴 정보를 이벤트로 변환하여 전달합니다.</li><li>이벤트를 수신한 모듈은 CS 라이브러리에서 전달된 이벤트에 해당하는 컴포넌트로 이동합니다.</li><li>각 컴포넌트는 백엔드와 통신하여 메뉴 화면을 구성합니다.</li></ol><h3 id="stb-정보-조회" tabindex="-1"><a class="header-anchor" href="#stb-정보-조회"><span>STB 정보 조회</span></a></h3><p>VCS 라이브러리에서는 셋톱박스 정보에 접근할 수 있는 getStbInfo 함수를 제공합니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> stbInfo <span class="token operator">=</span> cs<span class="token punctuation">.</span><span class="token function">getStbInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>표| STB 정보 조회</p><table><thead><tr><th>StbInfo</th><th>Description</th></tr></thead><tbody><tr><td>stbId</td><td>셋탑 재개통 시, 변경 될 수 있는 값</td></tr><tr><td>modelName</td><td>모델명</td></tr><tr><td>mac</td><td>맥 정보 - 고유값</td></tr><tr><td>firmware</td><td>펌웨어 버전</td></tr></tbody></table><div class="custom-container warning"><p class="custom-container-title">주의</p><p>컴포넌트의 생명주기에서 created 시점에 addEventListener를 등록했다면, destroy 시점에서 반드시 removeEventListener를 호출하여 이벤트 리스너를 제거해야 합니다. 제거되지 않은 이벤트 리스너는 메모리 누수의 주요 원인이 되므로 주의가 필요합니다.</p></div><h3 id="메뉴이동-이벤트-개발" tabindex="-1"><a class="header-anchor" href="#메뉴이동-이벤트-개발"><span>메뉴이동 이벤트 개발</span></a></h3><h4 id="이벤트-리스터-등록" tabindex="-1"><a class="header-anchor" href="#이벤트-리스터-등록"><span>이벤트 리스터 등록</span></a></h4><p>이벤트 리스너는 컴포넌트가 생성되는 시점인 created 라이프사이클 훅에서 선언하는 것이 적절합니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Example VUE</span>
<span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cs<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;MenuNavigation&quot;</span><span class="token punctuation">,</span> receiveEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="이벤트-리스너-삭제" tabindex="-1"><a class="header-anchor" href="#이벤트-리스너-삭제"><span>이벤트 리스너 삭제</span></a></h4><p>이벤트 리스너는 컴포넌트가 제거되기 전인 destroyed 라이프사이클 훅에서 반드시 삭제해야 합니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Example VUE </span>
<span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  cs<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;MenuNavigation&quot;</span><span class="token punctuation">,</span> receiveEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="메뉴-이동-이벤트-처리-함수-구현" tabindex="-1"><a class="header-anchor" href="#메뉴-이동-이벤트-처리-함수-구현"><span>메뉴 이동 이벤트 처리 함수 구현</span></a></h4><p>콜백 함수에 메뉴 노출에 필요한 값이 전달 됩니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">receiveEvent</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> menuName<span class="token punctuation">,</span> cid<span class="token punctuation">,</span> pid<span class="token punctuation">,</span> defaultChannel <span class="token punctuation">}</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>menuName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;HOME&#39;</span><span class="token operator">:</span>
      <span class="token comment">// 홈메뉴 이동 요청 처리</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;SYNOPSIS&#39;</span><span class="token operator">:</span>
      <span class="token comment">// VOD 콘텐츠 정보 요청 (cid)</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;PURCHASE&#39;</span><span class="token operator">:</span>
      <span class="token comment">// 상품 정보 요청 (pid)</span>
      <span class="token comment">// 콘텐츠 정보 요청 (cid)</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;HOTKEY&#39;</span><span class="token operator">:</span>
      <span class="token comment">// 핫키 이동 요청 처리</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;EPG&#39;</span><span class="token operator">:</span>
      <span class="token comment">// 편성표 이동 요청 처리</span>
      <span class="token comment">// 디폴트 포커스 위치 확인(defaultChannel)</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token comment">// 기타 처리</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>표| 메뉴 이동 이벤트 콜백 파라메터</p><table><thead><tr><th>Data</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>menuName</td><td>이동할 메뉴 명</td><td>HOME<br>SYNOPSIS<br>HOTKEY<br>EPG</td></tr><tr><td>cid</td><td>SYNOPSIS, PURCHASE 인 경우 필수</td><td>C0000011111</td></tr><tr><td>pid</td><td>PURCHASE인 경우 필수</td><td>P0000011111</td></tr><tr><td>menuids</td><td>HOTKEY인 경우 필수</td><td>MENU00001111</td></tr><tr><td>defaultChannel</td><td>포커스 위치 채널 번호. EPG인 경우 필수</td><td>11</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// Home Component - Sample Code</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="key-event-처리" tabindex="-1"><a class="header-anchor" href="#key-event-처리"><span>Key Event 처리</span></a></h2><p>TV 환경에서는 다음과 같은 기능이 필수적입니다</p><ul><li>리모콘 방향키로 화면 요소 간 포커스 이동이 가능해야 합니다.</li><li>핫키를 통해 특정 메뉴로 진입하거나 이전 화면으로 돌아갈 수 있어야 합니다(history back 기능).</li></ul><p>VCS 라이브러리는 이를 위해 다음과 같은 역할을 합니다:</p><ul><li>셋톱박스에서 전달되는 키 입력 값을 웹앱에서 사용 가능한 키값으로 변환하여 제공합니다.</li><li>PC 개발 환경에서도 키보드 키값을 제공하여 테스트할 수 있도록 지원합니다.</li></ul><h3 id="key-event-설정" tabindex="-1"><a class="header-anchor" href="#key-event-설정"><span>Key Event 설정</span></a></h3><p>싱글페이지 애플리케이션에서는 키보드의 백스페이스 키에 대해 기본 동작을 방지(preventDefault)해야 합니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">let</span> key <span class="token operator">=</span> KeyCodes<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span>oEvent<span class="token punctuation">.</span>keyCode<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&quot;BACK_SPACE&quot;</span> <span class="token operator">||</span> key <span class="token operator">===</span> <span class="token string">&quot;ENTER&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> oEvent<span class="token punctuation">.</span>preventDefault <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    oEvent<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>각 컴포넌트에서는 컴포넌트가 생성되는 시점인 created 라이프사이클 훅에서 keydown 이벤트 리스너를 등록해야 합니다.</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>cs<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;KEYDOWN&quot;</span><span class="token punctuation">,</span> keyDownHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">keyDownHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> key<span class="token punctuation">,</span> nativeEvent <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&quot;BACK_SPACE&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 이전키에 대한 동작</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="key-code" tabindex="-1"><a class="header-anchor" href="#key-code"><span>Key Code</span></a></h3><p>라이브러리에서는 숫자키, 방향키, 특수키, 핫키에 대한 코드를 제공합니다. 또한 PC 개발 환경에서 사용할 수 있는 키보드 키 값도 함께 제공합니다.</p><ul><li>숫자키, 방향키</li></ul><table><thead><tr><th>KeyCode</th><th>key</th><th>KeyCode</th><th>Key</th></tr></thead><tbody><tr><td>N0</td><td>Number 0</td><td>UP</td><td>상방향키</td></tr><tr><td>N1</td><td>Number 1</td><td>DOWN</td><td>하방향키</td></tr><tr><td>N2</td><td>Number 2</td><td>LEFT</td><td>좌방향키</td></tr><tr><td>N3</td><td>Number 3</td><td>RIGHT</td><td>우방향키</td></tr><tr><td>N4</td><td>Number 4</td><td></td><td></td></tr><tr><td>N5</td><td>Number 5</td><td></td><td></td></tr><tr><td>N6</td><td>Number 6</td><td></td><td></td></tr><tr><td>N7</td><td>Number 7</td><td></td><td></td></tr><tr><td>N8</td><td>Number 8</td><td></td><td></td></tr><tr><td>N9</td><td>Number 9</td><td></td><td></td></tr></tbody></table><ul><li>HOT키, 특수키</li></ul><table><thead><tr><th>KeyCode</th><th>Key</th><th>PC Keyboard</th></tr></thead><tbody><tr><td>STAR</td><td>*</td><td>A</td></tr><tr><td>BACK_SPACE</td><td>이전 키</td><td>Back Space</td></tr><tr><td>ENTER</td><td>OK 키</td><td>Enter</td></tr><tr><td>EXIT</td><td>나가기 키</td><td>Exit</td></tr><tr><td>SHARP</td><td>#</td><td>S</td></tr><tr><td>SEARCH</td><td>검색 핫키</td><td>T</td></tr><tr><td>HOME</td><td>홈</td><td>Y</td></tr></tbody></table><h2 id="vod-재생-요청" tabindex="-1"><a class="header-anchor" href="#vod-재생-요청"><span>VOD 재생 요청</span></a></h2><p>VOD 재생은 셋톱박스의 기능으로, 이는 웹앱과의 연결이 종료되는 것을 의미합니다. VOD를 재생하기 위해서는 재생할 콘텐츠의 ID(CID)와 시작 시간을 셋톱박스로 전달해야 합니다. 셋톱박스는 PlayVod 요청을 받으면 웹앱 세션을 종료합니다.</p><p><img src="/assets/VodPlay_001-D-g8DiFr.png" alt="An-image"></p><div class="custom-container warning"><p class="custom-container-title">주의</p><p>VOD 재생 종료 후에도 이전 화면으로 복귀할 수 있도록 VOD 재생 요청 시 현재까지의 화면 이력(History) 데이터를 서버에 저장합니다.</p></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cs.playVod (cid, startTime, options)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Param</th><th>Type</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>cid</td><td>String</td><td>콘텐츠 ID</td><td>C000000000</td></tr><tr><td>startTime</td><td>String</td><td>시작 시간 (ms로 전달)</td><td>720000</td></tr><tr><td>options</td><td>JSON</td><td>재생을 위해 필요한 값</td><td>{}</td></tr></tbody></table><h2 id="app-실행-요청" tabindex="-1"><a class="header-anchor" href="#app-실행-요청"><span>APP 실행 요청</span></a></h2><p>APP 실행은 STB의 기능으로 웹앱과의 접속 종료를 의미한다. APP을 실행하기 위해서는 APP을 실행 할 수 있는 key 값이 전달되어야 하며 (ex. SKB : package name), STB은 playApp 요청을 받으면 세션을 종료한다.</p><div class="custom-container warning"><p class="custom-container-title">주의</p><p>APP 종료 후의 History를 유지하기 위해 APP 실행 요청 시 현재까지 저장되어 있는 History 데이터를 서버에 저장한다. ( history 관리 및 복구 세션 참조 )</p></div><table><thead><tr><th>Param</th><th>Type</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>packageName</td><td>String</td><td>APP을 실행 할 수 있는 값</td><td>APP000001</td></tr></tbody></table><h2 id="channel-진입-요청" tabindex="-1"><a class="header-anchor" href="#channel-진입-요청"><span>Channel 진입 요청</span></a></h2><p>Channel 진입 기능은 STB의 기능으로 웹앱과의 접속 종료를 의미한다. Channel 진입을 위해서는 이동할 Channel 번호가 전달되어야 하며, STB은 playChannel 요청을 받으면 세션을 종료한다.</p><div class="custom-container warning"><p class="custom-container-title">주의</p><p>널에 진입한 후에는 &quot;이전&quot;키를 눌렀을 경우 이전 채널로 이동을 하게 되므로 history를 별도로 관리하지 않으므로 세션 종료 시 History 데이터를 서버에 저장하지 않는다.</p></div><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cs.playChannel (channelNum)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Param</th><th>Type</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>channelNum</td><td>String</td><td>이동할 채널 번호</td><td>11</td></tr></tbody></table><h2 id="cookie-적용" tabindex="-1"><a class="header-anchor" href="#cookie-적용"><span>Cookie 적용</span></a></h2><p>CS 환경에서는 Cookie 를 사용하지 않는 것을 권장한다. 필수로 사용을 해야하는 경우에는 제공되는 API로 사용해야 하며,</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>cs.setCookie (param)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>Param</th><th>Type</th><th>Description</th><th>Value</th></tr></thead><tbody><tr><td>channelNum</td><td>String</td><td>이동할 채널 번호</td><td>11</td></tr></tbody></table></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BClNg0is.js" defer></script>
  </body>
</html>
