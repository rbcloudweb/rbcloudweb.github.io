import{g as x}from"./index-ZORhgBxb.js";import{_ as S,j as _,l as W,B,m as L,o as v,c as y,F as R,p as U,i as M,b as g,t as O,n as b}from"./app-D2NJYy_T.js";const F=(...s)=>{s!=null&&s.length&&s.forEach(t=>{t!=null&&t.isActive&&t.isActive()&&t.kill()})};class G{constructor(t={}){this.vars=t}to(t,e,l,i){return this.timeline?this.timeline.to(t,{duration:e,...l},i):null}from(t,e,l,i){return this.timeline?this.timeline.from(t,{duration:e,...l},i):null}add(){if(this.timeline)return this.timeline.add(...arguments);{const t=this.vars;t.onStart&&typeof t.onStart=="function"&&t.onStart(),t.onUpdate&&typeof t.onUpdates=="function"&&t.onUpdate(),t.onComplete&&typeof t.onComplete=="function"&&t.onComplete()}}kill(){if(this.timeline)return this.timeline.kill()}getActive(){return this.timeline?this.timeline.getChildren().filter(e=>e.isActive()):0}isActive(){return this.timeline?this.timeline.isActive():!1}}const N={__name:"TextMoveAnimationGroup",props:{active:{type:Boolean,default:!1},width:{type:String,required:!0},delay:{type:Number,default:()=>0},textArray:{type:Array,default:()=>[]},classArr:{type:Array,default:()=>[]}},setup(s){const t=s,e=_(null),l=_(null);let i=null,f=null;const u=[],w=()=>{if(!e.value||t.textArray.length===0||l.value.length===0)return;const p=e.value.offsetWidth,a=[];for(const n in t.textArray){const r=l.value[n];p<(r==null?void 0:r.offsetWidth)&&(u.push(r),a.push(r.offsetWidth))}if(u.length===0||a.length===0)return;const o=a.sort(function(n,r){return r-n})[0];i=setTimeout(()=>{var n;if(A(o),!!((n=e.value)!=null&&n.style)){e.value.style.overflow="clip";for(const r of u)r.style.display="block"}},t.delay)},T=()=>{f&&(F(f),f=null),i&&(clearTimeout(i),i=null),c&&(clearTimeout(c),c=null)},A=(p,a=0)=>{if(!e.value)return;const d=.01,o=-p,n=d*(a-o),r=e.value.offsetWidth;f=new G;const k=u.map((z,C)=>{const m=u[C];let h;return r>(m==null?void 0:m.offsetWidth)||(x.set(m,{x:100}),h=x.to(m,{duration:n,ease:"linear",x:o,onComplete:()=>{A(p,r)}})),h});f.add(k)};let c=null;return W(()=>{t.active&&B(()=>{c=setTimeout(()=>{w(),c=null,i=null},500)})}),L(()=>{T()}),(p,a)=>(v(),y("div",{ref_key:"wrapperRef",ref:e,class:"text-move-animation",style:M({width:typeof t.width=="string"?t.width:`${t.width}px`})},[(v(!0),y(R,null,U(t.textArray,(d,o)=>(v(),y("div",{key:o},[g("span",{class:b(t.classArr[o])},[g("span",{ref_for:!0,ref_key:"textList",ref:l,class:"text"},O(d),513)],2)]))),128))],4))}},j=S(N,[["__file","TextMoveAnimationGroup.vue"]]);export{j as default};
